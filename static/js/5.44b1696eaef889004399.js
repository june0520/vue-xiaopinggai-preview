webpackJsonp([5],{"//Bf":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});e("34+y");var i=e("X+yh"),n=e.n(i),a={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"number-box"},[s("div",{staticClass:"mui-numbox",attrs:{"data-numbox-min":"1","data-numbox-max":"9"}},[s("button",{staticClass:"mui-btn mui-btn-numbox-minus",attrs:{type:"button"},on:{click:this.reduce}},[this._v("-")]),this._v(" "),s("input",{staticClass:"mui-input-numbox",attrs:{id:"test",type:"number",readonly:""},domProps:{value:this.num}}),this._v(" "),s("button",{staticClass:"mui-btn mui-btn-numbox-plus",attrs:{type:"button"},on:{click:this.add}},[this._v("+")])])])},staticRenderFns:[]};var o={data:function(){return{title:"购物车",carList:[],musicList:[]}},methods:{settlement:function(){},getlist:function(){var t=this;this.$axios.get("http://api.apiopen.top/musicRankings").then(function(s){if(200===s.data.code){t.musicList=s.data.result;for(var e=t.$store.getters.getId,i=function(s){t.musicList.forEach(function(i){i.content.forEach(function(i){i.song_id===e[s]&&t.carList.push(i)})})},a=0;a<e.length;a++)i(a)}else n()("获取购物车列表失败")}).catch(function(t){console.log(t)})},del:function(t,s){this.carList.splice(t,1),this.$store.commit("delGoods",s)},selectedChange:function(t,s){var e={id:t,val:s};this.$store.commit("updateSelect",e)}},created:function(){this.getlist()},components:{numberbox:e("VU/8")({data:function(){return{num:this.$store.getters.getIdAndCount[this.id]}},props:["id"],methods:{reduce:function(){this.num<=1||this.num--},add:function(){this.num++}},watch:{num:function(t){var s={id:this.id,count:t};this.$store.commit("updateCount",s)}}},a,!1,function(t){e("laC5")},"data-v-665acdd6",null).exports}},c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shopCar-container"},[e("narbar",{attrs:{title:t.title}}),t._v(" "),e("ul",t._l(t.carList,function(s,i){return e("li",{key:s.song_id,staticClass:"goods"},[e("div",{staticClass:"goods-h"},[e("mt-switch",{staticClass:"switch",on:{change:function(e){return t.selectedChange(s.song_id,t.$store.getters.getSelect[s.song_id])}},model:{value:t.$store.getters.getSelect[s.song_id],callback:function(e){t.$set(t.$store.getters.getSelect,s.song_id,e)},expression:"$store.getters.getSelect[music.song_id]"}}),t._v(" "),e("img",{attrs:{src:s.pic_small,alt:"封面",width:"90",height:"90"}})],1),t._v(" "),e("div",{staticClass:"wrap"},[e("p",{staticClass:"goods-name"},[t._v(t._s(s.title)+"-"+t._s(s.author))]),t._v(" "),e("div",{staticClass:"goods-f"},[e("span",{staticClass:"price"},[t._v("￥2")]),t._v(" "),e("numberbox",{attrs:{id:s.song_id}}),t._v(" "),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.del(i,s.song_id)}}},[t._v("删除")])],1)])])}),0),t._v(" "),0===t.carList.length?e("p",{staticClass:"tip"},[t._v("\n        购物车是空的，快去"),e("router-link",{staticClass:"red",attrs:{to:{name:"music"}}},[t._v("音乐商城")]),t._v("挑选些东西吧\n    ")],1):t._e(),t._v(" "),e("div",{staticClass:"settlement"},[e("div",{staticClass:"left"},[e("p",[t._v("总计（不含运费）")]),t._v(" "),e("p",{staticClass:"sum"},[t._v("已选择"),e("span",{staticClass:"red"},[t._v(" "+t._s(t.$store.getters.getSum.count))]),t._v("商品，总计"),e("span",{staticClass:"red"},[t._v(t._s(t.$store.getters.getSum.sum))]),t._v("元")])]),t._v(" "),e("mt-button",{staticClass:"danger",attrs:{type:"danger"},on:{click:t.settlement}},[t._v("去结算")])],1)],1)},staticRenderFns:[]};var r=e("VU/8")(o,c,!1,function(t){e("sso+")},"data-v-1e498a02",null);s.default=r.exports},laC5:function(t,s){},"sso+":function(t,s){}});
//# sourceMappingURL=5.44b1696eaef889004399.js.map